package tasks;

import org.apache.log4j.Logger;
import org.openqa.selenium.Alert;
import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;

import com.b2w.test.BaseAssert;

import appobjects.B2WUIMap;
import appobjects.setup.B2WSetup;

public class B2WSetupTasks {
	
	Logger log = Logger.getLogger(B2WSetupTasks.class);

	public boolean openB2WOPSetup() {
		boolean bReturn = false;

		return bReturn;
	}

	public boolean clickSortByLetterA() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListA());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterB() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListB());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterC() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListC());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterD() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListD());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterE() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListE());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterF() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListF());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterG() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListG());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterH() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListH());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterI() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListI());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterJ() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListJ());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterK() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListK());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterL() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListL());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterM() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListM());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterN() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListN());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterO() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListO());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterP() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListP());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterQ() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListQ());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterR() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListR());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterS() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListS());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterT() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListT());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterU() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListU());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterV() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListV());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterW() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListW());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterX() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListX());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterY() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListY());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}

	public boolean clickSortByLetterZ() {
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WPageListZ());
		if (el != null) {
			el.click();
			return true;
		} else {
			return false;
		}
	}
	
	public boolean enterSearchText(String sText) {
		return WebElementUtils.setAttributeWithJS(B2WUIMap.b2w_setup_searchtextboxjs, "value", sText);
	}
	
	public String getSearchText() {
		String bString = "";
		WebElement el = WebElementUtils.findElement(B2WSetup.getB2WSearchText());
		System.out.println("Value:"+ el.getAttribute("value"));
		return bString;
	}
	
	public boolean clickSearchClear() {
		return WebElementUtils.clickElement(B2WSetup.getB2WClearSearchButton());
	}
	
	public boolean clickCancelButton(){
		return WebElementUtils.clickElement(B2WSetup.getB2WCancelButton());
		
	}
	public boolean waitForProcessingDialogToClear() {
		boolean bReturn = false;
		bReturn = WebElementUtils.waitForElementHasAttributeWithValue(B2WSetup.getProcessingPanel(), "class", "hidden", true, WebElementUtils.LONG_TIME_OUT);
		return bReturn;
	}
	protected boolean checkBox(WebElement el, boolean bCheck){
		if (el == null){
			return false;
		}
		boolean isChecked = WebElementUtils.isCheckboxChecked(el);
		// if item is checked and need to uncheck
		if (isChecked && !bCheck){
			log.debug("Uncheck the checkbox");
			WebElementUtils.clickElement(el);
		}
		// if item is unchecked and need to check
		if (!isChecked && bCheck){
			log.debug("Check the checkbox");
			WebElementUtils.clickElement(el);
		}
		return bCheck == WebElementUtils.isCheckboxChecked(el);
	}

	protected void clickOnTwistie(WebElement el) {
		el.findElement(By.tagName("span")).click();

	}
	
	protected boolean isSectionCollapsed(WebElement el) {
		boolean bReturn = false;
		String sStatus = el.findElement(By.tagName("h2")).getAttribute("class");
		if (sStatus.equals("closed")) {
			log.debug("The section is colapsed");
			bReturn = true;
		} else {
			log.debug("The section is expanded");
		}
		return bReturn;
	}
	
	public boolean clickTopCancelButton() {
		return WebElementUtils.clickElement(B2WSetup.getTopCancelButton());
	}
	public boolean clickBottomCancelButton() {
		return WebElementUtils.clickElement(B2WSetup.getBottomCancelButton());
	}
	public boolean clickTopSaveButton() {
		boolean bReturn = false;
		if (WebElementUtils.clickElement(B2WSetup.getTopSaveButton())){
			if (WebElementUtils.waitAndFindDisplayedElement(By.cssSelector("div#PageContent_errorMessageControl_ErrorPanel")) != null){
				BaseAssert.logScreenCapture();
				clickTopCancelButton();
				Alert alert = WebElementUtils.waitForAndGetAlertDialog(WebElementUtils.MEDIUM_TIME_OUT);
				if (alert != null) {
					alert.accept();
					waitForProcessingDialogToClear();
				}
			}else{
				bReturn = waitForProcessingDialogToClear();
				bReturn &= WebElementUtils.waitAndFindDisplayedElement(B2WSetup.getTopEditButton()) != null;
			}
		}
		return bReturn;
	}
	public boolean clickBottomSaveButton() {
		boolean bReturn = false;
		if (WebElementUtils.clickElement(B2WSetup.getBottomSaveButton())){
			if (WebElementUtils.waitAndFindDisplayedElement(By.cssSelector("div#PageContent_errorMessageControl_ErrorPanel")) != null){
				BaseAssert.logScreenCapture();
				clickTopCancelButton();
				Alert alert = WebElementUtils.waitForAndGetAlertDialog(WebElementUtils.MEDIUM_TIME_OUT);
				if (alert != null) {
					alert.accept();
					waitForProcessingDialogToClear();
				}
			}else{
				bReturn = waitForProcessingDialogToClear();
				bReturn &= WebElementUtils.waitAndFindDisplayedElement(B2WSetup.getTopEditButton()) != null;
			}
		}
		return bReturn;
	}
	
	public boolean clickTopDeleteButton() {
		boolean bReturn = false;
		if (WebElementUtils.clickElement(B2WSetup.getTopDeleteButton())){
			
		}
		return bReturn;
	}
	public boolean clickBottomDeleteButton() {
		boolean bReturn = false;
		if (WebElementUtils.clickElement(B2WSetup.getBottomDeleteButton())){
			
		}
		return bReturn;
	}
	public boolean clickTopEditButton() {
		boolean bReturn = false;
		if (WebElementUtils.clickElement(B2WSetup.getTopEditButton())){
			
		}
		return bReturn;
	}
	public boolean clickBottomEditButton() {
		boolean bReturn = false;
		if (WebElementUtils.clickElement(B2WSetup.getTopEditButton())){
			
		}
		return bReturn;
	}
	public boolean enterTextAndClickSearch(String sText) {
		boolean bReturn = false;
		if (enterSearchText(sText)){
			this.clickSearchButton();
			bReturn = waitForProcessingDialogToClear();
		}
		return bReturn;
	}
	public boolean clickSearchButton(){
		return WebElementUtils.clickElement(B2WSetup.getB2WSearchButton());
	}
	public String getGenInfoNameValueLabel() {
		String sText = "";
		WebElement el = WebElementUtils.waitAndFindDisplayedElement(B2WSetup.getGenInfoNameValueLabel());
		if (el!=null){
			sText = el.getText();
		}
		return sText;
	}
	
}
